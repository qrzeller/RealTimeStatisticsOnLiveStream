%
% File: chap01.tex
% Author: Zeller Quentin
% Description: Introduction
%
%\let\textcircled=\pgftextcircled
\chapter{HBBTV}
\label{chap:HBBTV}

\initial{H}ybrid Broadcast Broadband TV, plus connu sous l'acronyme HbbTV est un standard européen permettant le partage d'informations et de services en complément à un flux multimédia destiné à l'utilisateur final. Il a été inventé en France en 2006.


Il fait partie des outils ou protocoles TV OTT, acronyme signifiant télévision Over The Top ou services par contournement en français et qui définissent les contenus ne passant pas par le bouquet proposé par l'opérateur internet / télévision. C'est donc l'antithèse de la télévision linéaire, mode de consommation traditionnel. \cite{OTT}
\begin{figure}[h]
%	HbbTV - Broadcast \("redbutton"\) vs broadband \("Web TV\).
	\includegraphics[width=\linewidth]{pdf/broadcast-broadband}
	\caption{HbbTV Broadband vs Broadcast}
	\label{fig:hbbtv1}
\end{figure}

L'objectif du consortium est de créer un seul standard permettant d'acheminer du contenu broadcast et broadband à travers une seule interface de type web. Le but est donc d'empêcher l'émergence de multiples standards propriétaires ainsi que les désavantages qui en incombent.\cite{operaHBBTV} Les services proposés peuvent être infinis, passant de la vidéo à la demande, se dissociant donc du contenu vidéo de base jusqu'au quiz interactif lors d'une émission télévisée.

%=======
\section{Fonctionnement général}
\label{sec:sec02a}
\subsection{Utilisation, le cas de la Suisse.}
\label{subsec:subsec02a}
Dès 2011, les suisses ont à disposition la HBBTV. Cependant, elle n'est pas disponible sur tous les mediums d'information. En effet, elle est encore indisponible chez certains cablo-operateurs, sur la TNT ainsi que sur Swisscom TV et ceci représente une grande majorité des utilisateurs.\cite{RTS_hbbtv_use}.
En 2017, la régie publicitaire Admeira, filiale de la SSR Ringier et Swisscom lance un projet pilote pour incorporer des fonctionnalités publicitaires couplées au programme regardé ainsi qu'aux publicités proposées.\cite{swisscom_hbbtv} Dans la pratique, il semblerait que ceci ne fonctionnent pas aussi bien. En effet, la fonction HbbTV peut être activée sur les nouvelles box Swisscom, mais celui-ci ne semble pas fonctionner alors que le protocol est activé sur les chaines Suisse uniquement. Ce test a été réalisé avec la dernière Internet-TV box. Les tests sur le cablo-opérateur Genevois Naxoo quant à eux fonctionne.
En parcourant ce qu'il se fait au niveau international, il semblerait que les régies publicitaires ainsi que les constructeurs soient les premiers intéressés. Ils permettent ainsi gentiment de démocratiser cette technologie. Des constructeurs de télévision parviennent même à proposer des contenus ciblés en analysant le contenu vidéo de l'utilisateur.
\section{Environnement de développement}
\label{sec:sec02b}

\subsection{Opera TV Emulator ou Vewd Emulator}
\label{subsec:subsec02b}
L'émulateur Opera TV, récemment renommée Vewd Emulator, rend possible le développement de contenu applicatif en HTML5 et CE-HTML pour différents appareils que sont les Smart TV, lecteurs Blue-ray, Box et aussi les ordinateurs.\cite{operaEmulator} La position sur le marché du leader Opera rend quasi indispensable cet environnement de développement, du moins pour les tests. L'écosystème Vewd est disponible sur la quasi totalité des télévision du marché(Samsung, Sony, Verizon, TiVo). Si ce n'est pas au niveau de l'OS, un palliatif logiciel est apporté (LG par exemple). Les box TV comportent aussi cet écosystème, Swisscom TV en faisant partie.

L'environnement de développement-test se caractérise dans une machine virtuelle tournant sur le bien connu, VirtualBox. Il permet de s'abstraire de l'accès physique à une machine/TV ainsi que de rendre plus prédictif les protocoles de tests.
Il dispose de deux interfaces graphiques, la première étant le flux vidéo de la sortie standard qui propose une interface "TV-like" et dont la sortie sera celle de notre application développée.
Sur la figure [\ref{fig:emue}] ci-après nous voyons la "landingpage" de l'émulateur opera. Celui-ci nous permet d'entrer le lien de l'application HbbTV que nous souhaitons grâce à un clavier virtuel. Cependant cette interface n'est pas très ergonomique et gère mal l'interaction clavier-souris.

Une autre interface beaucoup plus efficace nous est proposée. Il s'agit de l'interface web, disponible par défaut sur le port 5555. Elle dispose notamment de fonctions utiles au debugging (fps counter, paint regions, terminal event, javascript event, performance monitor...) [\ref{fig:emu2}], et un certain nombre de paramètres de fonctionnement de l'émulateur [\ref{fig:emua} \ref{fig:emub}] et du SDK ainsi que les différentes compatibilités assurées. Cette interface propose aussi une télécommande virtuelle [\ref{fig:emuf}] nous permettant de tester les différentes réactions aux événements boutons.
\begin{figure}[h]
	\centering
	\begin{minipage}{0.50\linewidth}
		\centering
		\subtop[]{\includegraphics[width=1\linewidth]{fig01/emulator/multi1/control_panel_1}\label{fig:emua}}
	\end{minipage}
\hfill
	\begin{minipage}{0.43\linewidth}
	\centering
	\subtop[]{\includegraphics[width=1\linewidth]{fig01/emulator/multi1/control_panel_2}\label{fig:emub}}
\end{minipage}
\hfill
	%\hspace{0.5cm}
	\begin{minipage}{0.48\linewidth}
		\centering
		\subtop[]{\includegraphics[width=1\linewidth]{fig01/emulator/multi1/das_erste_video}\label{fig:emuc}}
	\end{minipage}
\hfill
	%\hspace{1.3cm}
	\begin{minipage}{0.48\linewidth}
		\centering
		\subtop[]{\includegraphics[width=1\linewidth]{fig01/emulator/multi1/das_erste_popup}\label{fig:emud}}
	\end{minipage}
	%\\ \vspace{0.1cm}
	\begin{minipage}[10cm]{0.6\linewidth}
		\centering
		\subtop[]{\includegraphics[width=1\linewidth]{fig01/emulator/multi1/landing_emulator}\label{fig:emue}}
	\end{minipage}
\hfill
	%\\ \vspace{0.1cm}
	\begin{minipage}[10cm]{0.35\linewidth}
		\centering
		\subtop[]{\includegraphics[width=1\linewidth]{fig01/emulator/multi1/remote_control_annotated}\label{fig:emuf}}
	\end{minipage}
	\mycaption[Opera emulator user interface]{Opera TV - Interface graphique de test et paramétrage.}
	\label{fig:emu}
	
\end{figure}

\begin{figure}[h]
	\centering
	\begin{minipage}{0.48\linewidth}
		\centering
		\subtop[]{\includegraphics[width=1\linewidth]{fig01/emulator/multi2/emulator_640_gstreamer_puel}\label{fig:emu2a}}
	\end{minipage}
	\hfill
	\begin{minipage}{0.48\linewidth}
		\centering
		\subtop[]{\includegraphics[width=1\linewidth]{fig01/emulator/multi2/emulator_640_libav_puel}\label{fig:emu2b}}
	\end{minipage}
	\hfill
	%\hspace{0.5cm}
	\begin{minipage}{0.48\linewidth}
		\centering
		\subtop[]{\includegraphics[width=1\linewidth]{fig01/emulator/multi2/emulator_640_virtualbox_puel}\label{fig:emu2c}}
	\end{minipage}
	\hfill
	%\hspace{1.3cm}
	\begin{minipage}{0.48\linewidth}
		\centering
		\subtop[]{\includegraphics[width=1\linewidth]{fig01/emulator/multi2/emulator_640_welcome}\label{fig:emu2d}}
	\end{minipage}
	%\\ \vspace{0.1cm}
	\begin{minipage}{0.6\linewidth}
		\centering
		\subtop[]{\includegraphics[width=1\linewidth]{fig01/emulator/multi2/virtualbox}\label{fig:emu2e}}
	\end{minipage}
	\mycaption[Opera emulator installation]{Installation et configuration des add-ons.}
	\label{fig:emu2}
	
\end{figure}

\begin{figure}[h]
	\centering
	\begin{minipage}{0.48\linewidth}
		\centering
		\subtop[]{\includegraphics[width=1\linewidth]{fig01/emulator/multi3/devtools_youtube}\label{fig:emu3a}}
	\end{minipage}
	\hfill
	\begin{minipage}{0.48\linewidth}
		\centering
		\subtop[]{\includegraphics[width=1\linewidth]{fig01/emulator/multi3/remote_control_key_mapping}\label{fig:emu3b}}
	\end{minipage}
	\hfill
	%\hspace{0.5cm}
	\begin{minipage}{0.48\linewidth}
		\centering
		\subtop[]{\includegraphics[width=1\linewidth]{fig01/emulator/multi3/remote_control_help_tips}\label{fig:emu3c}}
	\end{minipage}
	\hfill
	%\hspace{1.3cm}
	\begin{minipage}{0.48\linewidth}
		\centering
		\subtop[]{\includegraphics[width=1\linewidth]{fig01/emulator/multi3/performance_monitor}\label{fig:emu3d}}
	\end{minipage}
	%\\ \vspace{0.1cm}
	\begin{minipage}{1\linewidth}
		\centering
		\subtop[]{\includegraphics[width=1\linewidth]{fig01/emulator/multi3/emulator_logs}\label{fig:emu3e}}
	\end{minipage}
	\mycaption[Opera emulator devlopper tools]{Outils développeur, dont notamment les key mappings.}
	\label{fig:emu3}
	
\end{figure}


\section{Environnement de production}
\label{sec:sec02c}
\subsection{The Opera hybrid TV option}
\label{subsec:subsec02ca}
L'Opera hybrid TV option est une technologie basée sur leur propre Opera Devices SDK (Standard Development Kit) qui est une technologie déjà bien répandue sur le marché avec plusieurs millions de set-up box dans le monde. Ce kit de développement implémente plusieurs modules de compatibilité tels que (OIPF, CE-HTML, CEA-2014...) et de ce fait supporte toutes les applications HbbTV. Ils se targuent aussi d'avoir une technologie éprouvée permettant des performances et intégration supérieures à ce que propose le marché.\cite{operaHBBTV} En somme, cette technologie qui s'assure que la HbbTV est compatible au sein de l'environnement Opera. Il prendra notamment en compte les différents canaux de transmissions que sont le broadcast, la broadband ou les deux. 

%=========================================================